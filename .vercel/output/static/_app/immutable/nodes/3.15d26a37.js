import{r as ke,s as J,c as ge,u as ve,d as be,e as ye,t as Ce,n as U,o as we,k as pe}from"../chunks/scheduler.fa0b062a.js";import{t as A,d as T,S as K,i as Q,g as y,s as N,h as k,j as M,c as S,f as g,k as b,D as H,a as V,x as C,y as L,p as W,b as X,e as q,H as xe,l as x,m as se,r as Z,n as ie,u as $,B as P,v as ee,o as oe,w as te}from"../chunks/index.b95eafa0.js";import{g as Y}from"../chunks/navigation.a0cf1922.js";import{u as ae}from"../chunks/user.943da92b.js";import{a as De}from"../chunks/axios.47b9d439.js";function F(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function Ve(i,e){A(i,1,1,()=>{e.delete(i.key)})}function ze(i,e,t,l,s,n,a,c,o,r,u,w){let _=i.length,m=n.length,D=_;const d={};for(;D--;)d[i[D].key]=D;const h=[],p=new Map,E=new Map,B=[];for(D=m;D--;){const v=w(s,n,D),z=t(v);let j=a.get(z);j?l&&B.push(()=>j.p(v,e)):(j=r(z,v),j.c()),p.set(z,h[D]=j),z in d&&E.set(z,Math.abs(D-d[z]))}const G=new Set,f=new Set;function O(v){T(v,1),v.m(c,u),a.set(v.key,v),u=v.first,m--}for(;_&&m;){const v=h[m-1],z=i[_-1],j=v.key,R=z.key;v===z?(u=v.first,_--,m--):p.has(R)?!a.has(j)||G.has(j)?O(v):f.has(R)?_--:E.get(j)>E.get(R)?(f.add(j),O(v)):(G.add(R),_--):(o(z,a),_--)}for(;_--;){const v=i[_];p.has(v.key)||o(v,a)}for(;m;)O(h[m-1]);return ke(B),h}const Te=i=>({}),re=i=>({});function ce(i){let e,t;const l=i[5].default,s=ge(l,i,i[4],null);return{c(){e=y("div"),s&&s.c(),this.h()},l(n){e=k(n,"DIV",{class:!0});var a=M(e);s&&s.l(a),a.forEach(g),this.h()},h(){b(e,"class","confetti svelte-qtjwsa")},m(n,a){V(n,e,a),s&&s.m(e,null),t=!0},p(n,a){s&&s.p&&(!t||a&16)&&ve(s,l,n,n[4],t?ye(l,n[4],a,null):be(n[4]),null)},i(n){t||(T(s,n),t=!0)},o(n){A(s,n),t=!1},d(n){n&&g(e),s&&s.d(n)}}}function Ee(i){let e,t,l,s,n;const a=i[5].label,c=ge(a,i,i[4],re);let o=i[1]&&ce(i);return{c(){e=y("span"),c&&c.c(),t=N(),o&&o.c(),this.h()},l(r){e=k(r,"SPAN",{class:!0});var u=M(e);c&&c.l(u),t=S(u),o&&o.l(u),u.forEach(g),this.h()},h(){b(e,"class","svelte-qtjwsa"),H(e,"relative",i[0])},m(r,u){V(r,e,u),c&&c.m(e,null),C(e,t),o&&o.m(e,null),l=!0,s||(n=L(e,"click",i[2]),s=!0)},p(r,[u]){c&&c.p&&(!l||u&16)&&ve(c,a,r,r[4],l?ye(a,r[4],u,Te):be(r[4]),re),r[1]?o?(o.p(r,u),u&2&&T(o,1)):(o=ce(r),o.c(),T(o,1),o.m(e,null)):o&&(W(),A(o,1,1,()=>{o=null}),X()),(!l||u&1)&&H(e,"relative",r[0])},i(r){l||(T(c,r),T(o),l=!0)},o(r){A(c,r),A(o),l=!1},d(r){r&&g(e),c&&c.d(r),o&&o.d(),s=!1,n()}}}function Ie(i,e,t){let{$$slots:l={},$$scope:s}=e,{toggleOnce:n=!1}=e,{relative:a=!0}=e,c=!1;async function o(){if(n){t(1,c=!c);return}t(1,c=!1),await Ce(),t(1,c=!0)}return i.$$set=r=>{"toggleOnce"in r&&t(3,n=r.toggleOnce),"relative"in r&&t(0,a=r.relative),"$$scope"in r&&t(4,s=r.$$scope)},[a,c,o,n,s,l]}class Me extends K{constructor(e){super(),Q(this,e,Ie,Ee,J,{toggleOnce:3,relative:0})}}function fe(i,e,t){const l=i.slice();return l[18]=e[t],l}function ue(i){let e,t=F({length:i[6]}),l=[];for(let s=0;s<t.length;s+=1)l[s]=de(fe(i,t,s));return{c(){e=y("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=k(s,"DIV",{class:!0});var n=M(e);for(let a=0;a<l.length;a+=1)l[a].l(n);n.forEach(g),this.h()},h(){b(e,"class","confetti-holder svelte-io58ff"),H(e,"rounded",i[9]),H(e,"cone",i[10]),H(e,"no-gravity",i[11])},m(s,n){V(s,e,n);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null)},p(s,n){if(n&20991){t=F({length:s[6]});let a;for(a=0;a<t.length;a+=1){const c=fe(s,t,a);l[a]?l[a].p(c,n):(l[a]=de(c),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=t.length}n&512&&H(e,"rounded",s[9]),n&1024&&H(e,"cone",s[10]),n&2048&&H(e,"no-gravity",s[11])},d(s){s&&g(e),xe(l,s)}}}function de(i){let e;return{c(){e=y("div"),this.h()},l(t){e=k(t,"DIV",{class:!0,style:!0}),M(e).forEach(g),this.h()},h(){b(e,"class","confetti svelte-io58ff"),x(e,"--fall-distance",i[8]),x(e,"--size",i[0]+"px"),x(e,"--color",i[14]()),x(e,"--skew",I(-45,45)+"deg,"+I(-45,45)+"deg"),x(e,"--rotation-xyz",I(-10,10)+", "+I(-10,10)+", "+I(-10,10)),x(e,"--rotation-deg",I(0,360)+"deg"),x(e,"--translate-y-multiplier",I(i[2][0],i[2][1])),x(e,"--translate-x-multiplier",I(i[1][0],i[1][1])),x(e,"--scale",.1*I(2,10)),x(e,"--transition-duration",i[4]?`calc(${i[3]}ms * var(--scale))`:`${i[3]}ms`),x(e,"--transition-delay",I(i[5][0],i[5][1])+"ms"),x(e,"--transition-iteration-count",i[4]?"infinite":i[7]),x(e,"--x-spread",1-i[12])},m(t,l){V(t,e,l)},p(t,l){l&256&&x(e,"--fall-distance",t[8]),l&1&&x(e,"--size",t[0]+"px"),l&4&&x(e,"--translate-y-multiplier",I(t[2][0],t[2][1])),l&2&&x(e,"--translate-x-multiplier",I(t[1][0],t[1][1])),l&24&&x(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),l&32&&x(e,"--transition-delay",I(t[5][0],t[5][1])+"ms"),l&144&&x(e,"--transition-iteration-count",t[4]?"infinite":t[7]),l&4096&&x(e,"--x-spread",1-t[12])},d(t){t&&g(e)}}}function Oe(i){let e,t=!i[13]&&ue(i);return{c(){t&&t.c(),e=q()},l(l){t&&t.l(l),e=q()},m(l,s){t&&t.m(l,s),V(l,e,s)},p(l,[s]){l[13]?t&&(t.d(1),t=null):t?t.p(l,s):(t=ue(l),t.c(),t.m(e.parentNode,e))},i:U,o:U,d(l){l&&g(e),t&&t.d(l)}}}function I(i,e){return Math.random()*(e-i)+i}function je(i,e,t){let{size:l=10}=e,{x:s=[-.5,.5]}=e,{y:n=[.25,1]}=e,{duration:a=2e3}=e,{infinite:c=!1}=e,{delay:o=[0,50]}=e,{colorRange:r=[0,360]}=e,{colorArray:u=[]}=e,{amount:w=50}=e,{iterationCount:_=1}=e,{fallDistance:m="100px"}=e,{rounded:D=!1}=e,{cone:d=!1}=e,{noGravity:h=!1}=e,{xSpread:p=.15}=e,{destroyOnComplete:E=!0}=e,B=!1;we(()=>{!E||c||_=="infinite"||setTimeout(()=>t(13,B=!0),(a+o[1])*_)});function G(){return u.length?u[Math.round(Math.random()*(u.length-1))]:`hsl(${Math.round(I(r[0],r[1]))}, 75%, 50%`}return i.$$set=f=>{"size"in f&&t(0,l=f.size),"x"in f&&t(1,s=f.x),"y"in f&&t(2,n=f.y),"duration"in f&&t(3,a=f.duration),"infinite"in f&&t(4,c=f.infinite),"delay"in f&&t(5,o=f.delay),"colorRange"in f&&t(15,r=f.colorRange),"colorArray"in f&&t(16,u=f.colorArray),"amount"in f&&t(6,w=f.amount),"iterationCount"in f&&t(7,_=f.iterationCount),"fallDistance"in f&&t(8,m=f.fallDistance),"rounded"in f&&t(9,D=f.rounded),"cone"in f&&t(10,d=f.cone),"noGravity"in f&&t(11,h=f.noGravity),"xSpread"in f&&t(12,p=f.xSpread),"destroyOnComplete"in f&&t(17,E=f.destroyOnComplete)},[l,s,n,a,c,o,w,_,m,D,d,h,p,B,G,r,u,E]}class Ae extends K{constructor(e){super(),Q(this,e,je,Oe,J,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:15,colorArray:16,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:17})}}function he(i){let e,t;return e=new Ae({props:{y:[.35,1.15]}}),{c(){Z(e.$$.fragment)},l(l){$(e.$$.fragment,l)},m(l,s){ee(e,l,s),t=!0},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){te(e,l)}}}function Ne(i){let e,t,l=i[1]&&he();return{c(){l&&l.c(),e=q()},l(s){l&&l.l(s),e=q()},m(s,n){l&&l.m(s,n),V(s,e,n),t=!0},p(s,n){s[1]?l?n&2&&T(l,1):(l=he(),l.c(),T(l,1),l.m(e.parentNode,e)):l&&(W(),A(l,1,1,()=>{l=null}),X())},i(s){t||(T(l),t=!0)},o(s){A(l),t=!1},d(s){s&&g(e),l&&l.d(s)}}}function Se(i){let e,t,l,s;return{c(){e=y("input"),this.h()},l(n){e=k(n,"INPUT",{type:!0,class:!0,slot:!0}),this.h()},h(){b(e,"type","checkbox"),b(e,"class","toggle toggle-success"),e.checked=t=i[0].memorized,b(e,"slot","label")},m(n,a){V(n,e,a),l||(s=L(e,"click",i[2]),l=!0)},p(n,a){a&1&&t!==(t=n[0].memorized)&&(e.checked=t)},d(n){n&&g(e),l=!1,s()}}}function Be(i){let e,t,l,s,n=i[0].ref+"",a,c,o,r,u,w,_=i[0].passage+"",m,D,d,h,p="Memorize",E,B,G;return r=new Me({props:{$$slots:{label:[Se],default:[Ne]},$$scope:{ctx:i}}}),{c(){e=y("div"),t=y("div"),l=y("div"),s=y("h2"),a=se(n),c=N(),o=y("div"),Z(r.$$.fragment),u=N(),w=y("p"),m=se(_),D=N(),d=y("div"),h=y("button"),h.textContent=p,this.h()},l(f){e=k(f,"DIV",{class:!0});var O=M(e);t=k(O,"DIV",{class:!0});var v=M(t);l=k(v,"DIV",{class:!0});var z=M(l);s=k(z,"H2",{class:!0});var j=M(s);a=ie(j,n),j.forEach(g),c=S(z),o=k(z,"DIV",{class:!0,"data-tip":!0});var R=M(o);$(r.$$.fragment,R),R.forEach(g),z.forEach(g),u=S(v),w=k(v,"P",{class:!0});var le=M(w);m=ie(le,_),le.forEach(g),D=S(v),d=k(v,"DIV",{class:!0});var ne=M(d);h=k(ne,"BUTTON",{class:!0,"data-svelte-h":!0}),P(h)!=="svelte-16dpjwo"&&(h.textContent=p),ne.forEach(g),v.forEach(g),O.forEach(g),this.h()},h(){b(s,"class","tracking-wider card-title text-accent/70"),b(o,"class","tooltip tooltip-success"),b(o,"data-tip","Memorized verse?"),b(l,"class","flex items-center justify-between mb-1"),b(w,"class","max-h-[125px] mb-2 overflow-hidden opacity-80"),b(h,"class","btn btn-outline btn-secondary rounded-xl hover:scale-105"),b(d,"class","justify-end card-actions"),b(t,"class","card-body"),b(e,"class","shadow-2xl card w-96 h-72 bg-primary-content/20 rounded-2xl")},m(f,O){V(f,e,O),C(e,t),C(t,l),C(l,s),C(s,a),C(l,c),C(l,o),ee(r,o,null),C(t,u),C(t,w),C(w,m),C(t,D),C(t,d),C(d,h),E=!0,B||(G=L(h,"click",i[3]),B=!0)},p(f,[O]){(!E||O&1)&&n!==(n=f[0].ref+"")&&oe(a,n);const v={};O&19&&(v.$$scope={dirty:O,ctx:f}),r.$set(v),(!E||O&1)&&_!==(_=f[0].passage+"")&&oe(m,_)},i(f){E||(T(r.$$.fragment,f),E=!0)},o(f){A(r.$$.fragment,f),E=!1},d(f){f&&g(e),te(r),B=!1,G()}}}function Pe(i,e,t){let{verse:l}=e,s=l.memorized;const n=async()=>{t(1,s=!s);const c=await De.patch(`/api/verses/${l.id}`,{memorized:!l.memorized});t(0,l=c.data)},a=()=>Y(`collection/${l.id}`);return i.$$set=c=>{"verse"in c&&t(0,l=c.verse)},[l,s,n,a]}class He extends K{constructor(e){super(),Q(this,e,Pe,Be,J,{verse:0})}}function me(i,e,t){const l=i.slice();return l[6]=e[t],l}function Ue(i){let e,t,l="You don't have any verses in your collection!",s,n,a="Add your first verse now",c,o,r="Add Verse",u,w;return{c(){e=y("div"),t=y("h2"),t.textContent=l,s=N(),n=y("p"),n.textContent=a,c=N(),o=y("button"),o.textContent=r,this.h()},l(_){e=k(_,"DIV",{class:!0});var m=M(e);t=k(m,"H2",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-239lrd"&&(t.textContent=l),s=S(m),n=k(m,"P",{class:!0,"data-svelte-h":!0}),P(n)!=="svelte-1g52owl"&&(n.textContent=a),c=S(m),o=k(m,"BUTTON",{class:!0,"data-svelte-h":!0}),P(o)!=="svelte-1odp94f"&&(o.textContent=r),m.forEach(g),this.h()},h(){b(t,"class","text-xl"),b(n,"class","text-lg text-accent/90"),b(o,"class","mt-2 btn btn-outline rounded-xl hover:scale-105"),b(e,"class","flex flex-col items-center justify-center gap-4 text-center")},m(_,m){V(_,e,m),C(e,t),C(e,s),C(e,n),C(e,c),C(e,o),u||(w=L(o,"click",i[5]),u=!0)},p:U,i:U,o:U,d(_){_&&g(e),u=!1,w()}}}function qe(i){let e,t='<h1 class="mt-4 mb-4 text-4xl font-bold tracking-widest uppercase text-primary/70">Verse Collection</h1> <p class="text-accent/80">Begin memorizing your verses now</p>',l,s,n=[],a=new Map,c,o,r="Add Verse",u,w,_,m=F(i[0]);const D=d=>d[6].id;for(let d=0;d<m.length;d+=1){let h=me(i,m,d),p=D(h);a.set(p,n[d]=_e(p,h))}return{c(){e=y("div"),e.innerHTML=t,l=N(),s=y("div");for(let d=0;d<n.length;d+=1)n[d].c();c=N(),o=y("button"),o.textContent=r,this.h()},l(d){e=k(d,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1fm6omu"&&(e.innerHTML=t),l=S(d),s=k(d,"DIV",{class:!0});var h=M(s);for(let p=0;p<n.length;p+=1)n[p].l(h);h.forEach(g),c=S(d),o=k(d,"BUTTON",{class:!0,"data-svelte-h":!0}),P(o)!=="svelte-spy752"&&(o.textContent=r),this.h()},h(){b(e,"class","flex flex-col items-center justify-center"),b(s,"class","flex flex-wrap justify-center w-full gap-8 m-12 max-h-[80%] mb-20"),b(o,"class","mb-16 btn btn-secondary rounded-xl hover:scale-105")},m(d,h){V(d,e,h),V(d,l,h),V(d,s,h);for(let p=0;p<n.length;p+=1)n[p]&&n[p].m(s,null);V(d,c,h),V(d,o,h),u=!0,w||(_=L(o,"click",i[4]),w=!0)},p(d,h){h&1&&(m=F(d[0]),W(),n=ze(n,h,D,1,d,m,a,s,Ve,_e,null,me),X())},i(d){if(!u){for(let h=0;h<m.length;h+=1)T(n[h]);u=!0}},o(d){for(let h=0;h<n.length;h+=1)A(n[h]);u=!1},d(d){d&&(g(e),g(l),g(s),g(c),g(o));for(let h=0;h<n.length;h+=1)n[h].d();w=!1,_()}}}function Ge(i){let e,t,l="You are not logged in",s,n,a="Please login to view or create your collection",c,o,r="Login",u,w;return{c(){e=y("div"),t=y("h1"),t.textContent=l,s=N(),n=y("p"),n.textContent=a,c=N(),o=y("button"),o.textContent=r,this.h()},l(_){e=k(_,"DIV",{class:!0});var m=M(e);t=k(m,"H1",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-onjcdr"&&(t.textContent=l),s=S(m),n=k(m,"P",{class:!0,"data-svelte-h":!0}),P(n)!=="svelte-183pqyb"&&(n.textContent=a),c=S(m),o=k(m,"BUTTON",{class:!0,"data-svelte-h":!0}),P(o)!=="svelte-ayo7on"&&(o.textContent=r),m.forEach(g),this.h()},h(){b(t,"class","text-2xl font-bold tracking-widest uppercase md:text-4xl text-primary/70"),b(n,"class","text-sm text-accent/70 sm:text-lg"),b(o,"class","mt-2 btn btn-outline btn-secondary rounded-xl hover:scale-105"),b(e,"class","flex flex-col items-center justify-center gap-4")},m(_,m){V(_,e,m),C(e,t),C(e,s),C(e,n),C(e,c),C(e,o),u||(w=L(o,"click",i[3]),u=!0)},p:U,i:U,o:U,d(_){_&&g(e),u=!1,w()}}}function _e(i,e){let t,l,s;return l=new He({props:{verse:e[6]}}),{key:i,first:null,c(){t=q(),Z(l.$$.fragment),this.h()},l(n){t=q(),$(l.$$.fragment,n),this.h()},h(){this.first=t},m(n,a){V(n,t,a),ee(l,n,a),s=!0},p(n,a){e=n;const c={};a&1&&(c.verse=e[6]),l.$set(c)},i(n){s||(T(l.$$.fragment,n),s=!0)},o(n){A(l.$$.fragment,n),s=!1},d(n){n&&g(t),te(l,n)}}}function Re(i){let e,t,l,s;const n=[Ge,qe,Ue],a=[];function c(o,r){return o[1]?o[0].length?1:2:0}return e=c(i),t=a[e]=n[e](i),{c(){t.c(),l=q()},l(o){t.l(o),l=q()},m(o,r){a[e].m(o,r),V(o,l,r),s=!0},p(o,[r]){let u=e;e=c(o),e===u?a[e].p(o,r):(W(),A(a[u],1,1,()=>{a[u]=null}),X(),t=a[e],t?t.p(o,r):(t=a[e]=n[e](o),t.c()),T(t,1),t.m(l.parentNode,l))},i(o){s||(T(t),s=!0)},o(o){A(t),s=!1},d(o){o&&g(l),a[e].d(o)}}}function Le(i,e,t){let l,s;pe(i,ae,r=>t(1,s=r));let{data:n}=e;ae.set(n.user||null);const a=()=>Y("/login"),c=()=>Y("/"),o=()=>Y("/");return i.$$set=r=>{"data"in r&&t(2,n=r.data)},i.$$.update=()=>{i.$$.dirty&4&&t(0,{verses:l}=n,l)},[l,s,n,a,c,o]}class We extends K{constructor(e){super(),Q(this,e,Le,Re,J,{data:2})}}export{We as component};
