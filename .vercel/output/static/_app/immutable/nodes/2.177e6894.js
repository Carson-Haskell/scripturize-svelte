import{s as y,n as x,l as B,r as F}from"../chunks/scheduler.fa0b062a.js";import{S as b,i as w,g as h,h as $,B as q,k as m,a as v,f as d,j as P,D as p,x as k,C as O,E as U,s as M,e as I,c as j,F as L,y as V,G as A,d as _,p as G,t as g,b as J,r as T,u as C,v as S,w as H}from"../chunks/index.b95eafa0.js";import{f as E}from"../chunks/index.09224c3c.js";import{g as R}from"../chunks/navigation.facc5b56.js";import{a as W}from"../chunks/axios.47b9d439.js";import{v as K}from"../chunks/verseStore.329bbc13.js";import{u as Q}from"../chunks/user.943da92b.js";function X(n){let e,r='<h1 class="text-4xl tracking-wide md:text-6xl">Welcome to <span class="duration-700 text-primary animate-pulse">Scripturize</span></h1> <h2 class="text-lg tracking-wide text-accent/90 md:text-2xl">An app for memorizing your favorite verses</h2> <p class="pt-6 tracking-wide opacity-80 md:text-lg text-md">Search for a verse and add it to your collection</p>';return{c(){e=h("div"),e.innerHTML=r,this.h()},l(t){e=$(t,"DIV",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-2h8azq"&&(e.innerHTML=r),this.h()},h(){m(e,"class","flex flex-col items-center justify-center gap-2")},m(t,s){v(t,e,s)},p:x,i:x,o:x,d(t){t&&d(e)}}}class Y extends b{constructor(e){super(),w(this,e,null,X,y,{})}}function Z(n){let e,r,t='<span class="font-medium text-neutral">Please provide verse reference</span>',s,a,u;return{c(){e=h("div"),r=h("div"),r.innerHTML=t,this.h()},l(l){e=$(l,"DIV",{class:!0});var c=P(e);r=$(c,"DIV",{class:!0,"data-svelte-h":!0}),q(r)!=="svelte-19azjlf"&&(r.innerHTML=t),c.forEach(d),this.h()},h(){m(r,"class","alert alert-error rounded-xl"),p(r,"alert-error",n[0]==="error"),p(r,"alert-success",n[0]==="success"),m(e,"class","toast")},m(l,c){v(l,e,c),k(e,r),u=!0},p(l,[c]){(!u||c&1)&&p(r,"alert-error",l[0]==="error"),(!u||c&1)&&p(r,"alert-success",l[0]==="success")},i(l){u||(l&&B(()=>{u&&(a&&a.end(1),s=O(e,E,{x:"100%",duration:400}),s.start())}),u=!0)},o(l){s&&s.invalidate(),l&&(a=U(e,E,{x:"100%",duration:300})),u=!1},d(l){l&&d(e),l&&a&&a.end()}}}function ee(n,e,r){let{type:t}=e;return n.$$set=s=>{"type"in s&&r(0,t=s.type)},[t]}class te extends b{constructor(e){super(),w(this,e,ee,Z,y,{type:0})}}function N(n){let e,r;return e=new te({props:{type:"error"}}),{c(){T(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,s){S(e,t,s),r=!0},i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){H(e,t)}}}function re(n){let e,r,t,s,a="Search",u,l,c,z,D,o=n[1]&&N();return{c(){e=h("form"),r=h("input"),t=M(),s=h("button"),s.textContent=a,u=M(),o&&o.c(),l=I(),this.h()},l(i){e=$(i,"FORM",{class:!0});var f=P(e);r=$(f,"INPUT",{type:!0,placeholder:!0,class:!0}),t=j(f),s=$(f,"BUTTON",{class:!0,"data-svelte-h":!0}),q(s)!=="svelte-1qpgelz"&&(s.textContent=a),f.forEach(d),u=j(i),o&&o.l(i),l=I(),this.h()},h(){m(r,"type","text"),m(r,"placeholder","John 1:1-3..."),m(r,"class","w-full max-w-xs input input-bordered border-secondary rounded-xl"),p(r,"border-error",n[1]),p(r,"border-secondary",!n[1]),m(s,"class","btn btn-secondary rounded-xl hover:scale-105"),m(e,"class","flex gap-4 md:w-full w-[80%] justify-center mt-8")},m(i,f){v(i,e,f),k(e,r),L(r,n[0]),k(e,t),k(e,s),v(i,u,f),o&&o.m(i,f),v(i,l,f),c=!0,z||(D=[V(r,"input",n[3]),V(e,"submit",A(n[2]))],z=!0)},p(i,[f]){f&1&&r.value!==i[0]&&L(r,i[0]),(!c||f&2)&&p(r,"border-error",i[1]),(!c||f&2)&&p(r,"border-secondary",!i[1]),i[1]?o?f&2&&_(o,1):(o=N(),o.c(),_(o,1),o.m(l.parentNode,l)):o&&(G(),g(o,1,1,()=>{o=null}),J())},i(i){c||(_(o),c=!0)},o(i){g(o),c=!1},d(i){i&&(d(e),d(u),d(l)),o&&o.d(i),z=!1,F(D)}}}function se(n,e,r){let t="",s=!1;const a=async()=>{if(!t){r(1,s=!0),setTimeout(()=>{r(1,s=!1)},4e3);return}const l=await W.post("/api/esv",{query:t});K.set(l.data),r(0,t=""),R("/verse")};function u(){t=this.value,r(0,t)}return[t,s,a,u]}class ae extends b{constructor(e){super(),w(this,e,se,re,y,{})}}function ne(n){let e,r,t,s;return e=new Y({}),t=new ae({}),{c(){T(e.$$.fragment),r=M(),T(t.$$.fragment)},l(a){C(e.$$.fragment,a),r=j(a),C(t.$$.fragment,a)},m(a,u){S(e,a,u),v(a,r,u),S(t,a,u),s=!0},p:x,i(a){s||(_(e.$$.fragment,a),_(t.$$.fragment,a),s=!0)},o(a){g(e.$$.fragment,a),g(t.$$.fragment,a),s=!1},d(a){a&&d(r),H(e,a),H(t,a)}}}class le extends b{constructor(e){super(),w(this,e,null,ne,y,{})}}function oe(n){let e,r;return e=new le({}),{c(){T(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,s){S(e,t,s),r=!0},p:x,i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){H(e,t)}}}function ie(n,e,r){let{data:t}=e;return Q.set(t.user||null),n.$$set=s=>{"data"in s&&r(0,t=s.data)},[t]}class he extends b{constructor(e){super(),w(this,e,ie,oe,y,{data:0})}}export{he as component};
